# Этап сборки
FROM docker.io/golang:1.23.6 AS builder
WORKDIR /app
COPY go.mod go.sum ./
RUN go mod download
COPY . .
RUN go build -o main

# Завершающая стадия
# FROM alpine:latest
# WORKDIR /app
# COPY --from=builder /app/postgres-toast .
# COPY --from=builder /app/migrations ./migrations
# EXPOSE 8080
CMD ["./main"]